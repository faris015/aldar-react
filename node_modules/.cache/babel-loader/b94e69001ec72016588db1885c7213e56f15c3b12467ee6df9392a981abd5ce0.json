{"ast":null,"code":"var _jsxFileName = \"E:\\\\WORK\\\\CDEProject\\\\aldar-react\\\\src\\\\pages\\\\WorkflowTasksPage.js\",\n  _s = $RefreshSig$();\nimport { Link } from 'react-router-dom';\nimport { useMemo, useState } from 'react';\nimport { useOutletContext } from 'react-router-dom';\nimport { useTicketStore } from '../context/TicketStore';\nimport { ticketTypes } from '../data/demoData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultUpdateForm = {\n  type: 'Shop Drawing Submission',\n  title: '',\n  description: '',\n  project: 'Project A',\n  fileName: '',\n  fileData: '',\n  fileType: '',\n  discipline: 'Architectural',\n  priority: 'High'\n};\nfunction WorkflowTasksPage() {\n  _s();\n  const {\n    role\n  } = useOutletContext();\n  const {\n    tickets,\n    resubmit\n  } = useTicketStore();\n  const [editingTicketId, setEditingTicketId] = useState('');\n  const [updateForm, setUpdateForm] = useState(defaultUpdateForm);\n  function setUploadedFile(file) {\n    if (!file) {\n      setUpdateForm(prev => ({\n        ...prev,\n        fileName: '',\n        fileData: '',\n        fileType: ''\n      }));\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = () => {\n      setUpdateForm(prev => ({\n        ...prev,\n        fileName: file.name,\n        fileData: typeof reader.result === 'string' ? reader.result : '',\n        fileType: file.type || ''\n      }));\n    };\n    reader.readAsDataURL(file);\n  }\n  const tasks = useMemo(() => {\n    if (role === 'Contractor') {\n      return tickets.filter(ticket => ticket.currentOwnerRole === 'Contractor');\n    }\n    return tickets.filter(ticket => ticket.currentOwnerRole === role && ticket.lifecycleStatus !== 'Published');\n  }, [role, tickets]);\n  function openUpdateForm(task) {\n    setEditingTicketId(task.id);\n    setUpdateForm({\n      type: task.type || 'Shop Drawing Submission',\n      title: task.title || '',\n      description: task.description || '',\n      project: task.project || 'Project A',\n      fileName: task.fileName || '',\n      fileData: task.fileData || '',\n      fileType: task.fileType || '',\n      discipline: task.discipline || 'Architectural',\n      priority: task.priority || 'High'\n    });\n  }\n  function submitUpdate() {\n    if (!editingTicketId) return;\n    if (!updateForm.type || !updateForm.title.trim() || !updateForm.description.trim() || !updateForm.project || !updateForm.discipline || !updateForm.priority) {\n      return;\n    }\n    resubmit(editingTicketId, role, {\n      type: updateForm.type,\n      title: updateForm.title.trim(),\n      description: updateForm.description.trim(),\n      project: updateForm.project,\n      fileName: updateForm.fileName || '',\n      fileData: updateForm.fileData || '',\n      fileType: updateForm.fileType || '',\n      discipline: updateForm.discipline,\n      priority: updateForm.priority\n    });\n    setEditingTicketId('');\n    setUpdateForm(defaultUpdateForm);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"screen-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Approval Workflow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Role queue for review, approve, send back, and final approval.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), role === 'Contractor' && editingTicketId ? /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Update Ticket\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ticket Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: updateForm.type,\n            onChange: event => setUpdateForm(prev => ({\n              ...prev,\n              type: event.target.value\n            })),\n            children: ticketTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n              children: type\n            }, type, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Discipline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: updateForm.discipline,\n            onChange: event => setUpdateForm(prev => ({\n              ...prev,\n              discipline: event.target.value\n            })),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Architectural\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Structural\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Electrical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Mechanical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Civil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"field full-width\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: updateForm.title,\n            onChange: event => setUpdateForm(prev => ({\n              ...prev,\n              title: event.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"field full-width\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            rows: \"5\",\n            value: updateForm.description,\n            onChange: event => setUpdateForm(prev => ({\n              ...prev,\n              description: event.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: updateForm.project,\n            onChange: event => setUpdateForm(prev => ({\n              ...prev,\n              project: event.target.value\n            })),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Project A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Project B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Project C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Priority\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: updateForm.priority,\n            onChange: event => setUpdateForm(prev => ({\n              ...prev,\n              priority: event.target.value\n            })),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Low\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Medium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"High\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Critical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"field full-width\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"File Upload (Optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".pdf,.dwg,.doc,.docx\",\n            onChange: event => {\n              var _event$target$files;\n              return setUploadedFile((_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0]);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropzone\",\n            onDragOver: event => event.preventDefault(),\n            onDrop: event => {\n              var _event$dataTransfer$f;\n              event.preventDefault();\n              setUploadedFile((_event$dataTransfer$f = event.dataTransfer.files) === null || _event$dataTransfer$f === void 0 ? void 0 : _event$dataTransfer$f[0]);\n            },\n            children: [\"Drag and drop file here (Demo)\", /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Allowed: PDF, DWG, DOC, DOCX\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), updateForm.fileName ? /*#__PURE__*/_jsxDEV(\"small\", {\n            children: [\"Selected: \", updateForm.fileName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 38\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn\",\n          onClick: submitUpdate,\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: () => setEditingTicketId(''),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"card responsive-table-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"responsive-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ticket ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Request\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Created By\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Reviewer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Stage Gate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Current Owner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"created-date-col\",\n              children: \"Created Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.createdByRole\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.reviewByRole\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.stageGate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.currentOwnerRole\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"created-date-col\",\n              children: task.createdDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: role === 'Contractor' ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => openUpdateForm(task),\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Link, {\n                to: `/workflow/review/${task.id}`,\n                children: \"Open Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)]\n          }, task.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-cards\",\n        children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"mobile-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: task.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: task.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [task.createdByRole, \" -> \", task.reviewByRole]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: task.stageGate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: task.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Owner: \", task.currentOwnerRole]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: [\"Created \", task.createdDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), role === 'Contractor' ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: () => openUpdateForm(task),\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Link, {\n            to: `/workflow/review/${task.id}`,\n            className: \"text-link\",\n            children: \"Open Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this)]\n        }, task.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(WorkflowTasksPage, \"4Xi7DxAT2N5bwviwPpGgojoeNdA=\", false, function () {\n  return [useOutletContext, useTicketStore];\n});\n_c = WorkflowTasksPage;\nexport default WorkflowTasksPage;\nvar _c;\n$RefreshReg$(_c, \"WorkflowTasksPage\");","map":{"version":3,"names":["Link","useMemo","useState","useOutletContext","useTicketStore","ticketTypes","jsxDEV","_jsxDEV","defaultUpdateForm","type","title","description","project","fileName","fileData","fileType","discipline","priority","WorkflowTasksPage","_s","role","tickets","resubmit","editingTicketId","setEditingTicketId","updateForm","setUpdateForm","setUploadedFile","file","prev","reader","FileReader","onload","name","result","readAsDataURL","tasks","filter","ticket","currentOwnerRole","lifecycleStatus","openUpdateForm","task","id","submitUpdate","trim","className","children","_jsxFileName","lineNumber","columnNumber","value","onChange","event","target","map","rows","accept","_event$target$files","files","onDragOver","preventDefault","onDrop","_event$dataTransfer$f","dataTransfer","onClick","createdByRole","reviewByRole","stageGate","status","createdDate","to","_c","$RefreshReg$"],"sources":["E:/WORK/CDEProject/aldar-react/src/pages/WorkflowTasksPage.js"],"sourcesContent":["import { Link } from 'react-router-dom';\r\nimport { useMemo, useState } from 'react';\r\nimport { useOutletContext } from 'react-router-dom';\r\nimport { useTicketStore } from '../context/TicketStore';\r\nimport { ticketTypes } from '../data/demoData';\r\n\r\nconst defaultUpdateForm = {\r\n  type: 'Shop Drawing Submission',\r\n  title: '',\r\n  description: '',\r\n  project: 'Project A',\r\n  fileName: '',\r\n  fileData: '',\r\n  fileType: '',\r\n  discipline: 'Architectural',\r\n  priority: 'High',\r\n};\r\n\r\nfunction WorkflowTasksPage() {\r\n  const { role } = useOutletContext();\r\n  const { tickets, resubmit } = useTicketStore();\r\n  const [editingTicketId, setEditingTicketId] = useState('');\r\n  const [updateForm, setUpdateForm] = useState(defaultUpdateForm);\r\n\r\n  function setUploadedFile(file) {\r\n    if (!file) {\r\n      setUpdateForm((prev) => ({\r\n        ...prev,\r\n        fileName: '',\r\n        fileData: '',\r\n        fileType: '',\r\n      }));\r\n      return;\r\n    }\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      setUpdateForm((prev) => ({\r\n        ...prev,\r\n        fileName: file.name,\r\n        fileData: typeof reader.result === 'string' ? reader.result : '',\r\n        fileType: file.type || '',\r\n      }));\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  const tasks = useMemo(() => {\r\n    if (role === 'Contractor') {\r\n      return tickets.filter((ticket) => ticket.currentOwnerRole === 'Contractor');\r\n    }\r\n    return tickets.filter(\r\n      (ticket) => ticket.currentOwnerRole === role && ticket.lifecycleStatus !== 'Published'\r\n    );\r\n  }, [role, tickets]);\r\n\r\n  function openUpdateForm(task) {\r\n    setEditingTicketId(task.id);\r\n    setUpdateForm({\r\n      type: task.type || 'Shop Drawing Submission',\r\n      title: task.title || '',\r\n      description: task.description || '',\r\n      project: task.project || 'Project A',\r\n      fileName: task.fileName || '',\r\n      fileData: task.fileData || '',\r\n      fileType: task.fileType || '',\r\n      discipline: task.discipline || 'Architectural',\r\n      priority: task.priority || 'High',\r\n    });\r\n  }\r\n\r\n  function submitUpdate() {\r\n    if (!editingTicketId) return;\r\n    if (!updateForm.type || !updateForm.title.trim() || !updateForm.description.trim() || !updateForm.project || !updateForm.discipline || !updateForm.priority) {\r\n      return;\r\n    }\r\n\r\n    resubmit(editingTicketId, role, {\r\n      type: updateForm.type,\r\n      title: updateForm.title.trim(),\r\n      description: updateForm.description.trim(),\r\n      project: updateForm.project,\r\n      fileName: updateForm.fileName || '',\r\n      fileData: updateForm.fileData || '',\r\n      fileType: updateForm.fileType || '',\r\n      discipline: updateForm.discipline,\r\n      priority: updateForm.priority,\r\n    });\r\n\r\n    setEditingTicketId('');\r\n    setUpdateForm(defaultUpdateForm);\r\n  }\r\n\r\n  return (\r\n    <section className=\"screen\">\r\n      <div className=\"screen-header\">\r\n        <h2>Approval Workflow</h2>\r\n        <p>Role queue for review, approve, send back, and final approval.</p>\r\n      </div>\r\n\r\n      {role === 'Contractor' && editingTicketId ? (\r\n        <article className=\"card\">\r\n          <h3>Update Ticket</h3>\r\n          <div className=\"form-grid\">\r\n            <label className=\"field\">\r\n              <span>Ticket Type</span>\r\n              <select value={updateForm.type} onChange={(event) => setUpdateForm((prev) => ({ ...prev, type: event.target.value }))}>\r\n                {ticketTypes.map((type) => (\r\n                  <option key={type}>{type}</option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n            <label className=\"field\">\r\n              <span>Discipline</span>\r\n              <select value={updateForm.discipline} onChange={(event) => setUpdateForm((prev) => ({ ...prev, discipline: event.target.value }))}>\r\n                <option>Architectural</option>\r\n                <option>Structural</option>\r\n                <option>Electrical</option>\r\n                <option>Mechanical</option>\r\n                <option>Civil</option>\r\n              </select>\r\n            </label>\r\n            <label className=\"field full-width\">\r\n              <span>Title</span>\r\n              <input\r\n                value={updateForm.title}\r\n                onChange={(event) => setUpdateForm((prev) => ({ ...prev, title: event.target.value }))}\r\n              />\r\n            </label>\r\n            <label className=\"field full-width\">\r\n              <span>Description</span>\r\n              <textarea\r\n                rows=\"5\"\r\n                value={updateForm.description}\r\n                onChange={(event) => setUpdateForm((prev) => ({ ...prev, description: event.target.value }))}\r\n              />\r\n            </label>\r\n            <label className=\"field\">\r\n              <span>Project</span>\r\n              <select value={updateForm.project} onChange={(event) => setUpdateForm((prev) => ({ ...prev, project: event.target.value }))}>\r\n                <option>Project A</option>\r\n                <option>Project B</option>\r\n                <option>Project C</option>\r\n              </select>\r\n            </label>\r\n            <label className=\"field\">\r\n              <span>Priority</span>\r\n              <select value={updateForm.priority} onChange={(event) => setUpdateForm((prev) => ({ ...prev, priority: event.target.value }))}>\r\n                <option>Low</option>\r\n                <option>Medium</option>\r\n                <option>High</option>\r\n                <option>Critical</option>\r\n              </select>\r\n            </label>\r\n            <label className=\"field full-width\">\r\n              <span>File Upload (Optional)</span>\r\n              <input\r\n                type=\"file\"\r\n                accept=\".pdf,.dwg,.doc,.docx\"\r\n                onChange={(event) => setUploadedFile(event.target.files?.[0])}\r\n              />\r\n              <div\r\n                className=\"dropzone\"\r\n                onDragOver={(event) => event.preventDefault()}\r\n                onDrop={(event) => {\r\n                  event.preventDefault();\r\n                  setUploadedFile(event.dataTransfer.files?.[0]);\r\n                }}\r\n              >\r\n                Drag and drop file here (Demo)\r\n                <small>Allowed: PDF, DWG, DOC, DOCX</small>\r\n              </div>\r\n              {updateForm.fileName ? <small>Selected: {updateForm.fileName}</small> : null}\r\n            </label>\r\n          </div>\r\n          <div className=\"inline-actions\">\r\n            <button type=\"button\" className=\"btn\" onClick={submitUpdate}>Update</button>\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setEditingTicketId('')}>Cancel</button>\r\n          </div>\r\n        </article>\r\n      ) : null}\r\n\r\n      <article className=\"card responsive-table-wrap\">\r\n        <table className=\"responsive-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Ticket ID</th>\r\n              <th>Request</th>\r\n              <th>Created By</th>\r\n              <th>Reviewer</th>\r\n              <th>Stage Gate</th>\r\n              <th>Status</th>\r\n              <th>Current Owner</th>\r\n              <th className=\"created-date-col\">Created Date</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {tasks.map((task) => (\r\n              <tr key={task.id}>\r\n                <td>{task.id}</td>\r\n                <td>{task.title}</td>\r\n                <td>{task.createdByRole}</td>\r\n                <td>{task.reviewByRole}</td>\r\n                <td>{task.stageGate}</td>\r\n                <td>{task.status}</td>\r\n                <td>{task.currentOwnerRole}</td>\r\n                <td className=\"created-date-col\">{task.createdDate}</td>\r\n                <td>\r\n                  {role === 'Contractor' ? (\r\n                    <button type=\"button\" className=\"btn btn-secondary\" onClick={() => openUpdateForm(task)}>\r\n                      Update\r\n                    </button>\r\n                  ) : (\r\n                    <Link to={`/workflow/review/${task.id}`}>Open Review</Link>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        <div className=\"mobile-cards\">\r\n          {tasks.map((task) => (\r\n            <article key={task.id} className=\"mobile-card\">\r\n              <h4>{task.id}</h4>\r\n              <p>{task.title}</p>\r\n              <p>{task.createdByRole} -> {task.reviewByRole}</p>\r\n              <p>{task.stageGate}</p>\r\n              <p>{task.status}</p>\r\n              <p>Owner: {task.currentOwnerRole}</p>\r\n              <small>Created {task.createdDate}</small>\r\n              {role === 'Contractor' ? (\r\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => openUpdateForm(task)}>\r\n                  Update\r\n                </button>\r\n              ) : (\r\n                <Link to={`/workflow/review/${task.id}`} className=\"text-link\">Open Review</Link>\r\n              )}\r\n            </article>\r\n          ))}\r\n        </div>\r\n      </article>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default WorkflowTasksPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}